<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ChaiScript: include/chaiscript/language/chaiscript_engine.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChaiScript
   &#160;<span id="projectnumber">5.6.0</span>
   </div>
   <div id="projectbrief">An easy to use embedded scripting language for C++.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_69ebf851e30b62aab375b8dd54c2055d.html">chaiscript</a></li><li class="navelem"><a class="el" href="dir_23607dafa16c9f3174d25f509ecef3cf.html">language</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">chaiscript_engine.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="chaiscript__engine_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// This file is distributed under the BSD License.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// See &quot;license.txt&quot; for details.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Copyright 2009-2012, Jonathan Turner (jonathan@emptycrate.com)</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Copyright 2009-2015, Jason Turner (jason@emptycrate.com)</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// http://www.chaiscript.com</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#ifndef CHAISCRIPT_ENGINE_HPP_</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CHAISCRIPT_ENGINE_HPP_</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;exception&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;mutex&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;../chaiscript_defines.hpp&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;../chaiscript_threading.hpp&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;../dispatchkit/boxed_cast_helper.hpp&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;../dispatchkit/boxed_value.hpp&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;../dispatchkit/dispatchkit.hpp&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;../dispatchkit/type_conversions.hpp&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;../dispatchkit/proxy_functions.hpp&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="chaiscript__common_8hpp.html">chaiscript_common.hpp</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#if defined(__linux__) || defined(__unix__) || defined(__APPLE__) || defined(__HAIKU__)</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#if defined(_POSIX_VERSION) &amp;&amp; !defined(__CYGWIN__) </span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;dlfcn.h&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef CHAISCRIPT_WINDOWS</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define VC_EXTRA_LEAN</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define WIN32_LEAN_AND_MEAN</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;Windows.h&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;../dispatchkit/exception_specification.hpp&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="chaiscript__parser_8hpp.html">chaiscript_parser.hpp</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;chaiscript_prelude.chai&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">namespace </span>chaiscript</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keyword">namespace </span>exception</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  {</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structchaiscript_1_1exception_1_1load__module__error.html">   57</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html">load_module_error</a> : std::runtime_error</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    {</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structchaiscript_1_1exception_1_1load__module__error.html#a3f599d1ad77677d5f522544f38564c01">   59</a></span>&#160;      <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html#a3f599d1ad77677d5f522544f38564c01">load_module_error</a>(<span class="keyword">const</span> std::string &amp;t_reason) <a class="code" href="chaiscript__defines_8hpp.html#a3e3155a6f827f097f724c863999708a8">CHAISCRIPT_NOEXCEPT</a></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        : std::runtime_error(t_reason)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html#a3f599d1ad77677d5f522544f38564c01">load_module_error</a>(<span class="keyword">const</span> <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html">load_module_error</a> &amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structchaiscript_1_1exception_1_1load__module__error.html#ae904432d36ed9d257a59f14a2cdb0478">   65</a></span>&#160;      <span class="keyword">virtual</span> <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html#ae904432d36ed9d257a59f14a2cdb0478">~load_module_error</a>() <a class="code" href="chaiscript__defines_8hpp.html#a3e3155a6f827f097f724c863999708a8">CHAISCRIPT_NOEXCEPT</a> {}</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    };</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keyword">namespace </span>detail</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#if defined(_POSIX_VERSION) &amp;&amp; !defined(__CYGWIN__) </span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor"></span>    <span class="keyword">struct </span>Loadable_Module</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="keyword">struct </span>DLModule</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        DLModule(<span class="keyword">const</span> std::string &amp;t_filename)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;          : m_data(dlopen(t_filename.c_str(), RTLD_NOW))</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;          <span class="keywordflow">if</span> (!m_data)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;          {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">throw</span> <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html">chaiscript::exception::load_module_error</a>(dlerror());</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;          }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        DLModule(<span class="keyword">const</span> DLModule &amp;); <span class="comment">// Explicitly unimplemented copy constructor</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        DLModule &amp;operator=(<span class="keyword">const</span> DLModule &amp;); <span class="comment">// Explicitly unimplemented assignment operator</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        ~DLModule()</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;          dlclose(m_data);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordtype">void</span> *m_data;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      };</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keyword">struct </span>DLSym</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;          DLSym(DLModule &amp;t_mod, <span class="keyword">const</span> std::string &amp;t_symbol)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            : m_symbol(cast_symbol(dlsym(t_mod.m_data, t_symbol.c_str())))</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;          {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">if</span> (!m_symbol)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;              <span class="keywordflow">throw</span> <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html">chaiscript::exception::load_module_error</a>(dlerror());</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;          }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;          <span class="keyword">static</span> T cast_symbol(<span class="keywordtype">void</span> *p)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;          {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keyword">union </span>cast_union</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;              T func_ptr;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;              <span class="keywordtype">void</span> *in_ptr;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            };</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            cast_union c;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            c.in_ptr = p;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">return</span> c.func_ptr;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;          T m_symbol;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        };</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <a class="code" href="structchaiscript_1_1detail_1_1Loadable__Module.html#af3fda051026d2b0441b1ffdc8b3536c9">Loadable_Module</a>(<span class="keyword">const</span> std::string &amp;t_module_name, <span class="keyword">const</span> std::string &amp;t_filename)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        : m_dlmodule(t_filename), m_func(m_dlmodule, <span class="stringliteral">&quot;create_chaiscript_module_&quot;</span> + t_module_name),</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="structchaiscript_1_1detail_1_1Loadable__Module.html#a165445379a2f5bc04305d75a3afbf3cd">m_moduleptr</a>(m_func.m_symbol())</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      DLModule m_dlmodule;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      DLSym&lt;Create_Module_Func&gt; m_func;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <a class="code" href="namespacechaiscript.html#ab925da5ee9dd05a82a7d94b559d4d2af">ModulePtr</a> <a class="code" href="structchaiscript_1_1detail_1_1Loadable__Module.html#a165445379a2f5bc04305d75a3afbf3cd">m_moduleptr</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    };</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keyword">struct </span>Loadable_Module</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keyword">static</span> std::wstring to_wstring(<span class="keyword">const</span> T &amp;t_str) </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;          <span class="keywordflow">return</span> std::wstring(t_str.begin(), t_str.end());</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keyword">static</span> std::string <a class="code" href="namespacechaiscript_1_1bootstrap.html#af3bfc47450340ae025189d533189b94f">to_string</a>(<span class="keyword">const</span> T &amp;t_str)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;          <span class="keywordflow">return</span> std::string(t_str.begin(), t_str.end());</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#ifdef _UNICODE</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor"></span>      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keyword">static</span> std::wstring to_proper_string(<span class="keyword">const</span> T &amp;t_str)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;          <span class="keywordflow">return</span> to_wstring(t_str);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor"></span>      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keyword">static</span> std::string to_proper_string(<span class="keyword">const</span> T &amp;t_str)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespacechaiscript_1_1bootstrap.html#af3bfc47450340ae025189d533189b94f">to_string</a>(t_str);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="keyword">static</span> std::string get_error_message(DWORD t_err)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#ifdef _UNICODE</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor"></span>        <span class="keyword">typedef</span> LPWSTR StringType;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        std::wstring retval = L<span class="stringliteral">&quot;Unknown Error&quot;</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor"></span>        <span class="keyword">typedef</span> LPSTR StringType;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        std::string retval = <span class="stringliteral">&quot;Unknown Error&quot;</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor"></span>        StringType lpMsgBuf = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">if</span> (FormatMessage(</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            FORMAT_MESSAGE_ALLOCATE_BUFFER | </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            FORMAT_MESSAGE_FROM_SYSTEM |</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            FORMAT_MESSAGE_IGNORE_INSERTS,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            NULL,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            t_err,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            (StringType)&amp;lpMsgBuf,</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            0, NULL ) != 0 &amp;&amp; lpMsgBuf)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;          retval = lpMsgBuf;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          LocalFree(lpMsgBuf);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacechaiscript_1_1bootstrap.html#af3bfc47450340ae025189d533189b94f">to_string</a>(retval);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keyword">struct </span>DLModule</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        DLModule(<span class="keyword">const</span> std::string &amp;t_filename)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;          : m_data(LoadLibrary(to_proper_string(t_filename).c_str()))</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;          <span class="keywordflow">if</span> (!m_data)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">throw</span> <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html">chaiscript::exception::load_module_error</a>(get_error_message(GetLastError()));</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;          }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        ~DLModule()</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;          FreeLibrary(m_data);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        HMODULE m_data;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      };</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keyword">struct </span>DLSym</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;          DLSym(DLModule &amp;t_mod, <span class="keyword">const</span> std::string &amp;t_symbol)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            : m_symbol(reinterpret_cast&lt;T&gt;(GetProcAddress(t_mod.m_data, t_symbol.c_str())))</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;          {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">if</span> (!m_symbol)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;              <span class="keywordflow">throw</span> <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html">chaiscript::exception::load_module_error</a>(get_error_message(GetLastError()));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;          }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          T m_symbol;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        };</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <a class="code" href="structchaiscript_1_1detail_1_1Loadable__Module.html#af3fda051026d2b0441b1ffdc8b3536c9">Loadable_Module</a>(<span class="keyword">const</span> std::string &amp;t_module_name, <span class="keyword">const</span> std::string &amp;t_filename)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        : m_dlmodule(t_filename), m_func(m_dlmodule, <span class="stringliteral">&quot;create_chaiscript_module_&quot;</span> + t_module_name),</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="structchaiscript_1_1detail_1_1Loadable__Module.html#a165445379a2f5bc04305d75a3afbf3cd">m_moduleptr</a>(m_func.m_symbol())</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      DLModule m_dlmodule;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      DLSym&lt;Create_Module_Func&gt; m_func;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <a class="code" href="namespacechaiscript.html#ab925da5ee9dd05a82a7d94b559d4d2af">ModulePtr</a> <a class="code" href="structchaiscript_1_1detail_1_1Loadable__Module.html#a165445379a2f5bc04305d75a3afbf3cd">m_moduleptr</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    };</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="structchaiscript_1_1detail_1_1Loadable__Module.html">  241</a></span>&#160;<span class="preprocessor"></span>    <span class="keyword">struct </span><a class="code" href="structchaiscript_1_1detail_1_1Loadable__Module.html">Loadable_Module</a></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    {</div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="structchaiscript_1_1detail_1_1Loadable__Module.html#af3fda051026d2b0441b1ffdc8b3536c9">  243</a></span>&#160;      <a class="code" href="structchaiscript_1_1detail_1_1Loadable__Module.html#af3fda051026d2b0441b1ffdc8b3536c9">Loadable_Module</a>(<span class="keyword">const</span> std::string &amp;, <span class="keyword">const</span> std::string &amp;)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html">chaiscript::exception::load_module_error</a>(<span class="stringliteral">&quot;Loadable module support not available for your platform&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="structchaiscript_1_1detail_1_1Loadable__Module.html#a165445379a2f5bc04305d75a3afbf3cd">  248</a></span>&#160;      <a class="code" href="namespacechaiscript.html#ab925da5ee9dd05a82a7d94b559d4d2af">ModulePtr</a> <a class="code" href="structchaiscript_1_1detail_1_1Loadable__Module.html#a165445379a2f5bc04305d75a3afbf3cd">m_moduleptr</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    };</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="namespacechaiscript_1_1detail.html#a497dcf091bc28c8d1792315236de82c6">  253</a></span>&#160;    <span class="keyword">typedef</span> std::shared_ptr&lt;Loadable_Module&gt; <a class="code" href="namespacechaiscript_1_1detail.html#a497dcf091bc28c8d1792315236de82c6">Loadable_Module_Ptr</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html">  258</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classchaiscript_1_1ChaiScript.html">ChaiScript</a> {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keyword">mutable</span> <a class="code" href="classchaiscript_1_1detail_1_1threading_1_1shared__mutex.html">chaiscript::detail::threading::shared_mutex</a> m_mutex;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keyword">mutable</span> chaiscript::detail::threading::recursive_mutex m_use_mutex;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    std::set&lt;std::string&gt; m_used_files;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    std::map&lt;std::string, detail::Loadable_Module_Ptr&gt; m_loaded_modules;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    std::set&lt;std::string&gt; m_active_loaded_modules;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    std::vector&lt;std::string&gt; m_modulepaths;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    std::vector&lt;std::string&gt; m_usepaths;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html">chaiscript::detail::Dispatch_Engine</a> m_engine;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> do_eval(<span class="keyword">const</span> std::string &amp;t_input, <span class="keyword">const</span> std::string &amp;t_filename = <span class="stringliteral">&quot;__EVAL__&quot;</span>, <span class="keywordtype">bool</span> <span class="comment">/* t_internal*/</span>  = <span class="keyword">false</span>) </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="classchaiscript_1_1parser_1_1ChaiScript__Parser.html">parser::ChaiScript_Parser</a> parser;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">if</span> (parser.<a class="code" href="classchaiscript_1_1parser_1_1ChaiScript__Parser.html#a47abf1afcd176d69eeb3d80f4ba2b454">parse</a>(t_input, t_filename)) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;          <span class="comment">//parser.show_match_stack();</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;          <span class="keywordflow">return</span> parser.<a class="code" href="classchaiscript_1_1parser_1_1ChaiScript__Parser.html#aa115a4d6a5e144f36b5a608160063c44">ast</a>()-&gt;eval(m_engine);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a>();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <span class="keywordflow">catch</span> (<a class="code" href="structchaiscript_1_1eval_1_1detail_1_1Return__Value.html">chaiscript::eval::detail::Return_Value</a> &amp;rv) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">return</span> rv.<a class="code" href="structchaiscript_1_1eval_1_1detail_1_1Return__Value.html#a811580f17f172501dec34f3313c94a79">retval</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> internal_eval_ast(<span class="keyword">const</span> <a class="code" href="namespacechaiscript.html#ab5e18d724077cc9547333fd4bccf3ae3">AST_NodePtr</a> &amp;t_ast)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">return</span> t_ast-&gt;eval(m_engine);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="structchaiscript_1_1exception_1_1eval__error.html">exception::eval_error</a> &amp;t_ee) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a>(t_ee);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> internal_eval(<span class="keyword">const</span> std::string &amp;t_e) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">return</span> do_eval(t_e, <span class="stringliteral">&quot;__EVAL__&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="structchaiscript_1_1exception_1_1eval__error.html">exception::eval_error</a> &amp;t_ee) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a>(t_ee);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html">chaiscript::detail::Dispatch_Engine</a> &amp;get_eval_engine() {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">return</span> m_engine;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordtype">void</span> build_eval_system(<span class="keyword">const</span> <a class="code" href="namespacechaiscript.html#ab925da5ee9dd05a82a7d94b559d4d2af">ModulePtr</a> &amp;t_lib) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;def&quot;</span>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;fun&quot;</span>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;while&quot;</span>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;for&quot;</span>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;if&quot;</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;else&quot;</span>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;&amp;&amp;&quot;</span>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;||&quot;</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;auto&quot;</span>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;return&quot;</span>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;break&quot;</span>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;true&quot;</span>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;class&quot;</span>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">add_reserved_word</a>(<span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">if</span> (t_lib)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="classchaiscript_1_1ChaiScript.html#a8e9351d918288cf1f71aaf71cc7ae1f9">add</a>(t_lib);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#af586418fb110b18537831f475a14159f">chaiscript::detail::Dispatch_Engine::dump_system</a>, std::ref(m_engine)), <span class="stringliteral">&quot;dump_system&quot;</span>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ad8216e18ab57675590509395478cb434">chaiscript::detail::Dispatch_Engine::dump_object</a>, std::ref(m_engine)), <span class="stringliteral">&quot;dump_object&quot;</span>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ac820ca4b510c4c7151c58d8858779849">chaiscript::detail::Dispatch_Engine::is_type</a>, std::ref(m_engine)), <span class="stringliteral">&quot;is_type&quot;</span>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a66de1924a511b8466da3235d11657aea">chaiscript::detail::Dispatch_Engine::type_name</a>, std::ref(m_engine)), <span class="stringliteral">&quot;type_name&quot;</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a2d2ae96b6b32a0ae3d7dc157bfdd8021">chaiscript::detail::Dispatch_Engine::function_exists</a>, std::ref(m_engine)), <span class="stringliteral">&quot;function_exists&quot;</span>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a28a4066ac27499438738b83b6bd2e098">chaiscript::detail::Dispatch_Engine::get_function_objects</a>, std::ref(m_engine)), <span class="stringliteral">&quot;get_functions&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a1864c2628635d19c3ba725f0c43cc687">chaiscript::detail::Dispatch_Engine::get_scripting_objects</a>, std::ref(m_engine)), <span class="stringliteral">&quot;get_objects&quot;</span>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a0c4629731b82bec640c9b485efca2e8a">Proxy_Function</a>(<span class="keyword">new</span> <a class="code" href="classchaiscript_1_1dispatch_1_1Dynamic__Proxy__Function.html">dispatch::Dynamic_Proxy_Function</a>(</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;              [<span class="keyword">this</span>](<span class="keyword">const</span> std::vector&lt;Boxed_Value&gt; &amp;t_params) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <span class="keywordflow">return</span> m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#af3e1bd34bb3a2389d7d980a7face268f">call_exists</a>(t_params);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;              })), <span class="stringliteral">&quot;call_exists&quot;</span>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>&lt;<a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> (<span class="keyword">const</span> <a class="code" href="classchaiscript_1_1dispatch_1_1Proxy__Function__Base.html">dispatch::Proxy_Function_Base</a> *, <span class="keyword">const</span> std::vector&lt;Boxed_Value&gt; &amp;)&gt;(std::bind(&amp;chaiscript::dispatch::Proxy_Function_Base::operator(), std::placeholders::_1, std::placeholders::_2, std::ref(m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a97b03a52378c9678ff6f5a0e10dd159a">conversions</a>()))), <span class="stringliteral">&quot;call&quot;</span>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a5aec5b8bd8875d681b6d8f6d2b3f868a">chaiscript::detail::Dispatch_Engine::get_type_name</a>, std::ref(m_engine)), <span class="stringliteral">&quot;name&quot;</span>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a696bfed2a9d5613e2f0be513e32822c1">chaiscript::detail::Dispatch_Engine::get_type</a>, std::ref(m_engine)), <span class="stringliteral">&quot;type&quot;</span>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>&lt;<span class="keywordtype">void</span> (<span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Type__Info.html">Type_Info</a> &amp;, <span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Type__Info.html">Type_Info</a> &amp;, <span class="keyword">const</span> std::function&lt;<a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> (<span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> &amp;)&gt; &amp;)&gt; ( </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            [=](<span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Type__Info.html">Type_Info</a> &amp;t_from, <span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Type__Info.html">Type_Info</a> &amp;t_to, <span class="keyword">const</span> std::function&lt;<a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> (<span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> &amp;)&gt; &amp;t_func) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;              m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a13ee197595d9ea8fec87d6188200bd81">chaiscript::type_conversion</a>(t_from, t_to, t_func));</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;          ), <span class="stringliteral">&quot;add_type_conversion&quot;</span>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="keyword">typedef</span> std::string (<a class="code" href="classchaiscript_1_1ChaiScript.html">ChaiScript</a>::*load_mod_1)(<span class="keyword">const</span> std::string&amp;);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keyword">typedef</span> void (<a class="code" href="classchaiscript_1_1ChaiScript.html">ChaiScript</a>::*load_mod_2)(<span class="keyword">const</span> std::string&amp;, <span class="keyword">const</span> std::string&amp;);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(static_cast&lt;load_mod_1&gt;(&amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#a7cbb8a08a3c27473e89435e3c2a9a60f">ChaiScript::load_module</a>), <span class="keyword">this</span>), <span class="stringliteral">&quot;load_module&quot;</span>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(static_cast&lt;load_mod_2&gt;(&amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#a7cbb8a08a3c27473e89435e3c2a9a60f">ChaiScript::load_module</a>), <span class="keyword">this</span>), <span class="stringliteral">&quot;load_module&quot;</span>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#a9fc2eaf37274d09d1ee90ffd411e665c">ChaiScript::use</a>, <span class="keyword">this</span>), <span class="stringliteral">&quot;use&quot;</span>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;ChaiScript::internal_eval, <span class="keyword">this</span>), <span class="stringliteral">&quot;eval&quot;</span>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;ChaiScript::internal_eval_ast, <span class="keyword">this</span>), <span class="stringliteral">&quot;eval&quot;</span>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#ab91bd6f62cbbc302c3bf69d1cb449b15">ChaiScript::version_major</a>), <span class="stringliteral">&quot;version_major&quot;</span>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#a1bfb0e149f6d57f6ae4e72e9269dba51">ChaiScript::version_minor</a>), <span class="stringliteral">&quot;version_minor&quot;</span>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#a29bc9fa22effb27714135c74b7ac0d86">ChaiScript::version_patch</a>), <span class="stringliteral">&quot;version_patch&quot;</span>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#aded07b0df78b0ebf92f240372d4304a7">ChaiScript::version</a>), <span class="stringliteral">&quot;version&quot;</span>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#a971c88ba6cd454a73874e2bb4ab9d17d">ChaiScript::add_global_const</a>, <span class="keyword">this</span>), <span class="stringliteral">&quot;add_global_const&quot;</span>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(<a class="code" href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">fun</a>(&amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#af5d3435e41f173b947badf7b3caeae7e">ChaiScript::add_global</a>, <span class="keyword">this</span>), <span class="stringliteral">&quot;add_global&quot;</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      do_eval(ChaiScript_Prelude::chaiscript_prelude(), <span class="stringliteral">&quot;standard prelude&quot;</span>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keyword">static</span> std::string load_file(<span class="keyword">const</span> std::string &amp;t_filename) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      std::ifstream infile(t_filename.c_str(), std::ios::in | std::ios::ate | std::ios::binary );</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">if</span> (!infile.is_open()) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="structchaiscript_1_1exception_1_1file__not__found__error.html">chaiscript::exception::file_not_found_error</a>(t_filename);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> size = infile.tellg();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      infile.seekg(0, std::ios::beg);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      assert(size &gt;= 0);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="keywordflow">if</span> (size == std::streampos(0))</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        std::vector&lt;char&gt; v(static_cast&lt;size_t&gt;(size));</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        infile.read(&amp;v[0], size);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">return</span> std::string(v.begin(), v.end());</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a2ca9c3a3187394ae03d3fbd50e2d1a4e">  413</a></span>&#160;    <a class="code" href="classchaiscript_1_1ChaiScript.html#a2ca9c3a3187394ae03d3fbd50e2d1a4e">ChaiScript</a>(<span class="keyword">const</span> <a class="code" href="namespacechaiscript.html#ab925da5ee9dd05a82a7d94b559d4d2af">ModulePtr</a> &amp;t_lib,</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;               std::vector&lt;std::string&gt; t_modulepaths = std::vector&lt;std::string&gt;(),</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                      std::vector&lt;std::string&gt; t_usepaths = std::vector&lt;std::string&gt;())</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      : m_modulepaths(std::move(t_modulepaths)), m_usepaths(std::move(t_usepaths)) </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="keywordflow">if</span> (m_modulepaths.empty())</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        m_modulepaths.push_back(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keywordflow">if</span> (m_usepaths.empty())</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        m_usepaths.push_back(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      build_eval_system(t_lib);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a8e79e489433a52227f05206128e0e4a6">  438</a></span>&#160;    <a class="code" href="classchaiscript_1_1ChaiScript.html#a8e79e489433a52227f05206128e0e4a6">ChaiScript</a>( std::vector&lt;std::string&gt; t_modulepaths = std::vector&lt;std::string&gt;(),</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                      std::vector&lt;std::string&gt; t_usepaths = std::vector&lt;std::string&gt;())</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      : m_modulepaths(std::move(t_modulepaths)), m_usepaths(std::move(t_usepaths)) </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">if</span> (m_modulepaths.empty())</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        m_modulepaths.push_back(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordflow">if</span> (m_usepaths.empty())</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        m_usepaths.push_back(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">#if defined(_POSIX_VERSION) &amp;&amp; !defined(__CYGWIN__) </span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="preprocessor"></span>      <span class="comment">// If on Unix, add the path of the current executable to the module search path</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="comment">// as windows would do</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keyword">union </span>cast_union</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        void (<a class="code" href="classchaiscript_1_1ChaiScript.html">ChaiScript</a>::*in_ptr)(<span class="keyword">const</span> std::string&amp;);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordtype">void</span> *out_ptr;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      };</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      Dl_info rInfo; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      memset( &amp;rInfo, 0, <span class="keyword">sizeof</span>(rInfo) ); </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      cast_union u;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      u.in_ptr = &amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#a9fc2eaf37274d09d1ee90ffd411e665c">ChaiScript::use</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">if</span> ( dladdr(static_cast&lt;void*&gt;(u.out_ptr), &amp;rInfo) &amp;&amp; rInfo.dli_fname ) { </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        std::string dllpath(rInfo.dli_fname);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span> lastslash = dllpath.rfind(<span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">if</span> (lastslash != std::string::npos)</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;          dllpath.erase(lastslash);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="comment">// Let&#39;s see if this is a link that we should expand</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        std::vector&lt;char&gt; buf(2048);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span> pathlen = readlink(dllpath.c_str(), &amp;buf.front(), buf.size());</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">if</span> (pathlen &gt; 0 &amp;&amp; pathlen &lt; buf.size())</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;          dllpath = std::string(&amp;buf.front(), pathlen);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        m_modulepaths.insert(m_modulepaths.begin(), dllpath+<span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="comment">// attempt to load the stdlib</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <a class="code" href="classchaiscript_1_1ChaiScript.html#a7cbb8a08a3c27473e89435e3c2a9a60f">load_module</a>(<span class="stringliteral">&quot;chaiscript_stdlib-&quot;</span> + <a class="code" href="classchaiscript_1_1ChaiScript.html#aded07b0df78b0ebf92f240372d4304a7">version</a>());</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      build_eval_system(<a class="code" href="namespacechaiscript.html#ab925da5ee9dd05a82a7d94b559d4d2af">ModulePtr</a>());</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#ab91bd6f62cbbc302c3bf69d1cb449b15">  493</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classchaiscript_1_1ChaiScript.html#ab91bd6f62cbbc302c3bf69d1cb449b15">version_major</a>()</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacechaiscript.html#a587381d0934835fd73ba5c0b0de1f38d">chaiscript::version_major</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a1bfb0e149f6d57f6ae4e72e9269dba51">  498</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classchaiscript_1_1ChaiScript.html#a1bfb0e149f6d57f6ae4e72e9269dba51">version_minor</a>()</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacechaiscript.html#a1ce67012a96cff5cb1bd5185d392a6d6">chaiscript::version_minor</a>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a29bc9fa22effb27714135c74b7ac0d86">  503</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classchaiscript_1_1ChaiScript.html#a29bc9fa22effb27714135c74b7ac0d86">version_patch</a>()</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacechaiscript.html#ab6d8c15c9b7aa5fc1c5692d7c218d9cb">chaiscript::version_patch</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#aded07b0df78b0ebf92f240372d4304a7">  508</a></span>&#160;    <span class="keyword">static</span> std::string <a class="code" href="classchaiscript_1_1ChaiScript.html#aded07b0df78b0ebf92f240372d4304a7">version</a>()</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      std::stringstream ss;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      ss &lt;&lt; <a class="code" href="classchaiscript_1_1ChaiScript.html#ab91bd6f62cbbc302c3bf69d1cb449b15">version_major</a>() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; <a class="code" href="classchaiscript_1_1ChaiScript.html#a1bfb0e149f6d57f6ae4e72e9269dba51">version_minor</a>() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; <a class="code" href="classchaiscript_1_1ChaiScript.html#a29bc9fa22effb27714135c74b7ac0d86">version_patch</a>();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keywordflow">return</span> ss.str();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#aa4317316bdd077949c37c1dae78cf708">  515</a></span>&#160;    std::string <a class="code" href="classchaiscript_1_1ChaiScript.html#aa4317316bdd077949c37c1dae78cf708">get_type_name</a>(<span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Type__Info.html">Type_Info</a> &amp;ti)<span class="keyword"> const</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">return</span> m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a5aec5b8bd8875d681b6d8f6d2b3f868a">get_type_name</a>(ti);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#afa666ca208185128e8f0a189b742eedc">  521</a></span>&#160;    std::string <a class="code" href="classchaiscript_1_1ChaiScript.html#afa666ca208185128e8f0a189b742eedc">get_type_name</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classchaiscript_1_1ChaiScript.html#afa666ca208185128e8f0a189b742eedc">get_type_name</a>(user_type&lt;T&gt;());</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a9fc2eaf37274d09d1ee90ffd411e665c">  532</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchaiscript_1_1ChaiScript.html#a9fc2eaf37274d09d1ee90ffd411e665c">use</a>(<span class="keyword">const</span> std::string &amp;t_filename)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;path : m_usepaths)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> appendedpath = path + t_filename;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;          <a class="code" href="classchaiscript_1_1detail_1_1threading_1_1unique__lock.html">chaiscript::detail::threading::unique_lock&lt;chaiscript::detail::threading::recursive_mutex&gt;</a> l(m_use_mutex);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;          <a class="code" href="classchaiscript_1_1detail_1_1threading_1_1unique__lock.html">chaiscript::detail::threading::unique_lock&lt;chaiscript::detail::threading::shared_mutex&gt;</a> l2(m_mutex);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;          <span class="keywordflow">if</span> (m_used_files.count(appendedpath) == 0)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;          {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            l2.unlock();</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <a class="code" href="classchaiscript_1_1ChaiScript.html#a50274f3dfa858eb79746abe7345c7d84">eval_file</a>(appendedpath);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            l2.lock();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            m_used_files.insert(appendedpath);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;           }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;          <span class="keywordflow">return</span>; <span class="comment">// return, we loaded it, or it was already loaded</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="structchaiscript_1_1exception_1_1file__not__found__error.html">exception::file_not_found_error</a> &amp;) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;          <span class="comment">// failed to load, try the next path</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="comment">// failed to load by any name</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="structchaiscript_1_1exception_1_1file__not__found__error.html">exception::file_not_found_error</a>(t_filename);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a971c88ba6cd454a73874e2bb4ab9d17d">  565</a></span>&#160;    <a class="code" href="classchaiscript_1_1ChaiScript.html">ChaiScript</a> &amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#a971c88ba6cd454a73874e2bb4ab9d17d">add_global_const</a>(<span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> &amp;t_bv, <span class="keyword">const</span> std::string &amp;t_name)</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a00a015ef8d5a4178b3ebf0398d7265b8">add_global_const</a>(t_bv, t_name);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#af5d3435e41f173b947badf7b3caeae7e">  576</a></span>&#160;    <a class="code" href="classchaiscript_1_1ChaiScript.html">ChaiScript</a> &amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#af5d3435e41f173b947badf7b3caeae7e">add_global</a>(<span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> &amp;t_bv, <span class="keyword">const</span> std::string &amp;t_name)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a75110954cf0855152f83f00b68486943">add_global</a>(t_bv, t_name);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html">  587</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="classchaiscript_1_1ChaiScript.html#structchaiscript_1_1ChaiScript_1_1State">State</a></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    {</div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a836827b3a944ace575a2b3a05bf701c3">  589</a></span>&#160;      std::set&lt;std::string&gt; <a class="code" href="classchaiscript_1_1ChaiScript.html#a836827b3a944ace575a2b3a05bf701c3">used_files</a>;</div>
<div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a2fd882b989f4f087d06b0f1d444e5771">  590</a></span>&#160;      <a class="code" href="structchaiscript_1_1detail_1_1Dispatch__Engine_1_1State.html">chaiscript::detail::Dispatch_Engine::State</a> <a class="code" href="classchaiscript_1_1ChaiScript.html#a2fd882b989f4f087d06b0f1d444e5771">engine_state</a>;</div>
<div class="line"><a name="l00591"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a8d8ec1842f73ba0ad3dfc1abca123d15">  591</a></span>&#160;      std::set&lt;std::string&gt; <a class="code" href="classchaiscript_1_1ChaiScript.html#a8d8ec1842f73ba0ad3dfc1abca123d15">active_loaded_modules</a>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    };</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#aa19f395650cefe2e0245b931fcaeea86">  607</a></span>&#160;    <a class="code" href="classchaiscript_1_1ChaiScript.html#structchaiscript_1_1ChaiScript_1_1State">State</a> <a class="code" href="classchaiscript_1_1ChaiScript.html#aa19f395650cefe2e0245b931fcaeea86">get_state</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <a class="code" href="classchaiscript_1_1detail_1_1threading_1_1lock__guard.html">chaiscript::detail::threading::lock_guard&lt;chaiscript::detail::threading::recursive_mutex&gt;</a> l(m_use_mutex);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <a class="code" href="classchaiscript_1_1detail_1_1threading_1_1shared__lock.html">chaiscript::detail::threading::shared_lock&lt;chaiscript::detail::threading::shared_mutex&gt;</a> l2(m_mutex);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <a class="code" href="classchaiscript_1_1ChaiScript.html#structchaiscript_1_1ChaiScript_1_1State">State</a> s;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      s.<a class="code" href="classchaiscript_1_1ChaiScript.html#a836827b3a944ace575a2b3a05bf701c3">used_files</a> = m_used_files;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      s.<a class="code" href="classchaiscript_1_1ChaiScript.html#a2fd882b989f4f087d06b0f1d444e5771">engine_state</a> = m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a70cc6e6f79c37d9cb7599634ea620dc2">get_state</a>();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      s.<a class="code" href="classchaiscript_1_1ChaiScript.html#a8d8ec1842f73ba0ad3dfc1abca123d15">active_loaded_modules</a> = m_active_loaded_modules;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#aebd025413b4dddb6787b9cd4799f1542">  633</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchaiscript_1_1ChaiScript.html#aebd025413b4dddb6787b9cd4799f1542">set_state</a>(<span class="keyword">const</span> <a class="code" href="classchaiscript_1_1ChaiScript.html#structchaiscript_1_1ChaiScript_1_1State">State</a> &amp;t_state)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <a class="code" href="classchaiscript_1_1detail_1_1threading_1_1lock__guard.html">chaiscript::detail::threading::lock_guard&lt;chaiscript::detail::threading::recursive_mutex&gt;</a> l(m_use_mutex);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <a class="code" href="classchaiscript_1_1detail_1_1threading_1_1shared__lock.html">chaiscript::detail::threading::shared_lock&lt;chaiscript::detail::threading::shared_mutex&gt;</a> l2(m_mutex);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      m_used_files = t_state.<a class="code" href="classchaiscript_1_1ChaiScript.html#a836827b3a944ace575a2b3a05bf701c3">used_files</a>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      m_active_loaded_modules = t_state.<a class="code" href="classchaiscript_1_1ChaiScript.html#a8d8ec1842f73ba0ad3dfc1abca123d15">active_loaded_modules</a>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a815bc8fcc54f176722f9b3521a283758">set_state</a>(t_state.<a class="code" href="classchaiscript_1_1ChaiScript.html#a2fd882b989f4f087d06b0f1d444e5771">engine_state</a>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a9298bfd530e1d79b7a39d87cfea49435">  644</a></span>&#160;    std::map&lt;std::string, Boxed_Value&gt; <a class="code" href="classchaiscript_1_1ChaiScript.html#a9298bfd530e1d79b7a39d87cfea49435">get_locals</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="keywordflow">return</span> m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a006f148e10e060a8d668abde2eb34790">get_locals</a>();</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a24788fcffd8c9b20c8fd1516c844ffb4">  654</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchaiscript_1_1ChaiScript.html#a24788fcffd8c9b20c8fd1516c844ffb4">set_locals</a>(<span class="keyword">const</span> std::map&lt;std::string, Boxed_Value&gt; &amp;t_locals)</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a04711d182e337b38cbbec3cfd4586b87">set_locals</a>(t_locals);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a8e9351d918288cf1f71aaf71cc7ae1f9">  675</a></span>&#160;    <a class="code" href="classchaiscript_1_1ChaiScript.html">ChaiScript</a> &amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#a8e9351d918288cf1f71aaf71cc7ae1f9">add</a>(<span class="keyword">const</span> T &amp;t_t, <span class="keyword">const</span> std::string &amp;t_name)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(t_t, t_name);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#ac30afb1e3708bb2925bd41b5d836a601">  690</a></span>&#160;    <a class="code" href="classchaiscript_1_1ChaiScript.html">ChaiScript</a> &amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#ac30afb1e3708bb2925bd41b5d836a601">add</a>(<span class="keyword">const</span> <a class="code" href="namespacechaiscript.html#a7062a185efde16ab706d8327b9275816">Type_Conversion</a> &amp;d)</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">add</a>(d);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#af7f0673dfd3b68b4308d5258d19ad19f">  699</a></span>&#160;    <a class="code" href="classchaiscript_1_1ChaiScript.html">ChaiScript</a> &amp;<a class="code" href="classchaiscript_1_1ChaiScript.html#af7f0673dfd3b68b4308d5258d19ad19f">add</a>(<span class="keyword">const</span> <a class="code" href="namespacechaiscript.html#ab925da5ee9dd05a82a7d94b559d4d2af">ModulePtr</a> &amp;t_p)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      t_p-&gt;apply(*<span class="keyword">this</span>, this-&gt;get_eval_engine());</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div>
<div class="line"><a name="l00717"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a7cbb8a08a3c27473e89435e3c2a9a60f">  717</a></span>&#160;    std::string <a class="code" href="classchaiscript_1_1ChaiScript.html#a7cbb8a08a3c27473e89435e3c2a9a60f">load_module</a>(<span class="keyword">const</span> std::string &amp;t_module_name)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      std::vector&lt;exception::load_module_error&gt; errors;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      std::string version_stripped_name = t_module_name;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="keywordtype">size_t</span> version_pos = version_stripped_name.find(<span class="stringliteral">&quot;-&quot;</span>+<a class="code" href="classchaiscript_1_1ChaiScript.html#aded07b0df78b0ebf92f240372d4304a7">version</a>());</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keywordflow">if</span> (version_pos != std::string::npos)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        version_stripped_name.erase(version_pos);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      std::vector&lt;std::string&gt; prefixes{<span class="stringliteral">&quot;lib&quot;</span>, <span class="stringliteral">&quot;cyg&quot;</span>, <span class="stringliteral">&quot;&quot;</span>};</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      std::vector&lt;std::string&gt; postfixes{<span class="stringliteral">&quot;.dll&quot;</span>, <span class="stringliteral">&quot;.so&quot;</span>, <span class="stringliteral">&quot;.bundle&quot;</span>, <span class="stringliteral">&quot;&quot;</span>};</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; elem : m_modulepaths) </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; prefix : prefixes)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; postfix : postfixes)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;          {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;              <span class="keyword">const</span> <span class="keyword">auto</span> name = elem + prefix + t_module_name + postfix;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;              <span class="comment">// std::cerr &lt;&lt; &quot;trying location: &quot; &lt;&lt; name &lt;&lt; &#39;\n&#39;;</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;              <a class="code" href="classchaiscript_1_1ChaiScript.html#a7cbb8a08a3c27473e89435e3c2a9a60f">load_module</a>(version_stripped_name, name);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;              <span class="keywordflow">return</span> name;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html">chaiscript::exception::load_module_error</a> &amp;e) {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;              <span class="comment">// std::cerr &lt;&lt; &quot;error: &quot; &lt;&lt; e.what() &lt;&lt; &#39;\n&#39;;</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;              errors.push_back(e);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;              <span class="comment">// Try next set</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;          }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      std::string errstring;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">for</span> (std::vector&lt;exception::load_module_error&gt;::const_iterator itr = errors.begin();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;           itr != errors.end();</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;           ++itr)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">if</span> (!errstring.empty())</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;          errstring += <span class="stringliteral">&quot;; &quot;</span>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        errstring += itr-&gt;what();</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="structchaiscript_1_1exception_1_1load__module__error.html">chaiscript::exception::load_module_error</a>(<span class="stringliteral">&quot;Unable to find module: &quot;</span> + t_module_name + <span class="stringliteral">&quot; Errors: &quot;</span> + errstring);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a85fc7015fc228d36ad806326a90c04b7">  775</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchaiscript_1_1ChaiScript.html#a85fc7015fc228d36ad806326a90c04b7">load_module</a>(<span class="keyword">const</span> std::string &amp;t_module_name, <span class="keyword">const</span> std::string &amp;t_filename)</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <a class="code" href="classchaiscript_1_1detail_1_1threading_1_1lock__guard.html">chaiscript::detail::threading::lock_guard&lt;chaiscript::detail::threading::recursive_mutex&gt;</a> l(m_use_mutex);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="keywordflow">if</span> (m_loaded_modules.count(t_module_name) == 0)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <a class="code" href="namespacechaiscript_1_1detail.html#a497dcf091bc28c8d1792315236de82c6">detail::Loadable_Module_Ptr</a> lm(<span class="keyword">new</span> <a class="code" href="structchaiscript_1_1detail_1_1Loadable__Module.html">detail::Loadable_Module</a>(t_module_name, t_filename));</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        m_loaded_modules[t_module_name] = lm;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        m_active_loaded_modules.insert(t_module_name);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <a class="code" href="classchaiscript_1_1ChaiScript.html#a8e9351d918288cf1f71aaf71cc7ae1f9">add</a>(lm-&gt;m_moduleptr);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_active_loaded_modules.count(t_module_name) == 0) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        m_active_loaded_modules.insert(t_module_name);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <a class="code" href="classchaiscript_1_1ChaiScript.html#a8e9351d918288cf1f71aaf71cc7ae1f9">add</a>(m_loaded_modules[t_module_name]-&gt;m_moduleptr);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      } </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00800"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a428d16b7c0cb57d0ba476d1a55663790">  800</a></span>&#160;    <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> <a class="code" href="classchaiscript_1_1ChaiScript.html#a428d16b7c0cb57d0ba476d1a55663790">operator()</a>(<span class="keyword">const</span> std::string &amp;t_script, <span class="keyword">const</span> <a class="code" href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">Exception_Handler</a> &amp;t_handler = <a class="code" href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">Exception_Handler</a>())</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">return</span> do_eval(t_script);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      } <span class="keywordflow">catch</span> (<a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> &amp;bv) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">if</span> (t_handler) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;          t_handler-&gt;handle(bv, m_engine);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00826"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a52440d54a7e7651f3bd57c7912e3d403">  826</a></span>&#160;    T <a class="code" href="classchaiscript_1_1ChaiScript.html#a52440d54a7e7651f3bd57c7912e3d403">eval</a>(<span class="keyword">const</span> std::string &amp;t_input, <span class="keyword">const</span> <a class="code" href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">Exception_Handler</a> &amp;t_handler = <a class="code" href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">Exception_Handler</a>(), <span class="keyword">const</span> std::string &amp;t_filename=<span class="stringliteral">&quot;__EVAL__&quot;</span>)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="keywordflow">return</span> m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#af50124995a5e5a2b9ada7773bb67727c">boxed_cast</a>&lt;T&gt;(do_eval(t_input, t_filename));</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      } <span class="keywordflow">catch</span> (<a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> &amp;bv) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordflow">if</span> (t_handler) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;          t_handler-&gt;handle(bv, m_engine);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Type&gt;</div>
<div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a7dd2aa3e0ca691e9792a2e3dfb544483">  840</a></span>&#160;      <span class="keyword">typename</span> <a class="code" href="structchaiscript_1_1detail_1_1Cast__Helper.html#ad6f4787fa988263191323148dcb775a7">detail::Cast_Helper&lt;Type&gt;::Result_Type</a> <a class="code" href="classchaiscript_1_1ChaiScript.html#a7dd2aa3e0ca691e9792a2e3dfb544483">boxed_cast</a>(<span class="keyword">const</span> <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> &amp;bv)<span class="keyword"> const</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="keyword">      </span>{</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">return</span> m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#af50124995a5e5a2b9ada7773bb67727c">boxed_cast</a>&lt;Type&gt;(bv);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div>
<div class="line"><a name="l00856"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#ab9ce7fda07b1684bc5b9a355a9160fa8">  856</a></span>&#160;    <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> <a class="code" href="classchaiscript_1_1ChaiScript.html#ab9ce7fda07b1684bc5b9a355a9160fa8">eval</a>(<span class="keyword">const</span> std::string &amp;t_input, <span class="keyword">const</span> <a class="code" href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">Exception_Handler</a> &amp;t_handler = <a class="code" href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">Exception_Handler</a>(), <span class="keyword">const</span> std::string &amp;t_filename=<span class="stringliteral">&quot;__EVAL__&quot;</span>)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">return</span> do_eval(t_input, t_filename);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      } <span class="keywordflow">catch</span> (<a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> &amp;bv) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">if</span> (t_handler) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;          t_handler-&gt;handle(bv, m_engine);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      }</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a50274f3dfa858eb79746abe7345c7d84">  873</a></span>&#160;    <a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> <a class="code" href="classchaiscript_1_1ChaiScript.html#a50274f3dfa858eb79746abe7345c7d84">eval_file</a>(<span class="keyword">const</span> std::string &amp;t_filename, <span class="keyword">const</span> <a class="code" href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">Exception_Handler</a> &amp;t_handler = <a class="code" href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">Exception_Handler</a>()) {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">return</span> do_eval(load_file(t_filename), t_filename);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      } <span class="keywordflow">catch</span> (<a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> &amp;bv) {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordflow">if</span> (t_handler) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;          t_handler-&gt;handle(bv, m_engine);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="classchaiscript_1_1ChaiScript.html#a4a0a13edfb20fa69d04fc57727ff9827">  893</a></span>&#160;    T <a class="code" href="classchaiscript_1_1ChaiScript.html#a4a0a13edfb20fa69d04fc57727ff9827">eval_file</a>(<span class="keyword">const</span> std::string &amp;t_filename, <span class="keyword">const</span> <a class="code" href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">Exception_Handler</a> &amp;t_handler = <a class="code" href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">Exception_Handler</a>()) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="keywordflow">return</span> m_engine.<a class="code" href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#af50124995a5e5a2b9ada7773bb67727c">boxed_cast</a>&lt;T&gt;(do_eval(load_file(t_filename), t_filename));</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      } <span class="keywordflow">catch</span> (<a class="code" href="classchaiscript_1_1Boxed__Value.html">Boxed_Value</a> &amp;bv) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span> (t_handler) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;          t_handler-&gt;handle(bv, m_engine);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">throw</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  };</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;}</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CHAISCRIPT_ENGINE_HPP_ */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="preprocessor"></span></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a7dd2aa3e0ca691e9792a2e3dfb544483"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a7dd2aa3e0ca691e9792a2e3dfb544483">chaiscript::ChaiScript::boxed_cast</a></div><div class="ttdeci">detail::Cast_Helper&lt; Type &gt;::Result_Type boxed_cast(const Boxed_Value &amp;bv) const </div><div class="ttdoc">casts an object while applying any Dynamic_Conversion available </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00840">chaiscript_engine.hpp:840</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_aebd025413b4dddb6787b9cd4799f1542"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#aebd025413b4dddb6787b9cd4799f1542">chaiscript::ChaiScript::set_state</a></div><div class="ttdeci">void set_state(const State &amp;t_state)</div><div class="ttdoc">Sets the state of the system. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00633">chaiscript_engine.hpp:633</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a806407e3f0c85fd0f6d6f8db296ef7ef"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a806407e3f0c85fd0f6d6f8db296ef7ef">chaiscript::detail::Dispatch_Engine::add</a></div><div class="ttdeci">void add(const Type_Conversion &amp;d)</div><div class="ttdoc">Add a new conversion for upcasting to a base class. </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00421">dispatchkit.hpp:421</a></div></div>
<div class="ttc" id="structchaiscript_1_1detail_1_1Dispatch__Engine_1_1State_html"><div class="ttname"><a href="structchaiscript_1_1detail_1_1Dispatch__Engine_1_1State.html">chaiscript::detail::Dispatch_Engine::State</a></div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00390">dispatchkit.hpp:390</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_aa4317316bdd077949c37c1dae78cf708"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#aa4317316bdd077949c37c1dae78cf708">chaiscript::ChaiScript::get_type_name</a></div><div class="ttdeci">std::string get_type_name(const Type_Info &amp;ti) const </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00515">chaiscript_engine.hpp:515</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a24788fcffd8c9b20c8fd1516c844ffb4"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a24788fcffd8c9b20c8fd1516c844ffb4">chaiscript::ChaiScript::set_locals</a></div><div class="ttdeci">void set_locals(const std::map&lt; std::string, Boxed_Value &gt; &amp;t_locals)</div><div class="ttdoc">Sets all of the locals for the current thread state. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00654">chaiscript_engine.hpp:654</a></div></div>
<div class="ttc" id="structchaiscript_1_1exception_1_1load__module__error_html"><div class="ttname"><a href="structchaiscript_1_1exception_1_1load__module__error.html">chaiscript::exception::load_module_error</a></div><div class="ttdoc">Thrown if an error occurs while attempting to load a binary module. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00057">chaiscript_engine.hpp:57</a></div></div>
<div class="ttc" id="namespacechaiscript_1_1detail_html_a497dcf091bc28c8d1792315236de82c6"><div class="ttname"><a href="namespacechaiscript_1_1detail.html#a497dcf091bc28c8d1792315236de82c6">chaiscript::detail::Loadable_Module_Ptr</a></div><div class="ttdeci">std::shared_ptr&lt; Loadable_Module &gt; Loadable_Module_Ptr</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00253">chaiscript_engine.hpp:253</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a5aec5b8bd8875d681b6d8f6d2b3f868a"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a5aec5b8bd8875d681b6d8f6d2b3f868a">chaiscript::detail::Dispatch_Engine::get_type_name</a></div><div class="ttdeci">std::string get_type_name(const Type_Info &amp;ti) const </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00600">dispatchkit.hpp:600</a></div></div>
<div class="ttc" id="namespacechaiscript_html_a859802297db86dd58b7709203710425d"><div class="ttname"><a href="namespacechaiscript.html#a859802297db86dd58b7709203710425d">chaiscript::Exception_Handler</a></div><div class="ttdeci">std::shared_ptr&lt; detail::Exception_Handler_Base &gt; Exception_Handler</div><div class="ttdoc">Used in the automatic unboxing of exceptions thrown during script evaluation. </div><div class="ttdef"><b>Definition:</b> <a href="exception__specification_8hpp_source.html#l00154">exception_specification.hpp:154</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a52440d54a7e7651f3bd57c7912e3d403"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a52440d54a7e7651f3bd57c7912e3d403">chaiscript::ChaiScript::eval</a></div><div class="ttdeci">T eval(const std::string &amp;t_input, const Exception_Handler &amp;t_handler=Exception_Handler(), const std::string &amp;t_filename=&quot;__EVAL__&quot;)</div><div class="ttdoc">Evaluates a string and returns a typesafe result. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00826">chaiscript_engine.hpp:826</a></div></div>
<div class="ttc" id="classchaiscript_1_1Type__Info_html"><div class="ttname"><a href="classchaiscript_1_1Type__Info.html">chaiscript::Type_Info</a></div><div class="ttdoc">Compile time deduced information about a type. </div><div class="ttdef"><b>Definition:</b> <a href="type__info_8hpp_source.html#l00030">type_info.hpp:30</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a8e79e489433a52227f05206128e0e4a6"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a8e79e489433a52227f05206128e0e4a6">chaiscript::ChaiScript::ChaiScript</a></div><div class="ttdeci">ChaiScript(std::vector&lt; std::string &gt; t_modulepaths=std::vector&lt; std::string &gt;(), std::vector&lt; std::string &gt; t_usepaths=std::vector&lt; std::string &gt;())</div><div class="ttdoc">Constructor for ChaiScript. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00438">chaiscript_engine.hpp:438</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a29bc9fa22effb27714135c74b7ac0d86"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a29bc9fa22effb27714135c74b7ac0d86">chaiscript::ChaiScript::version_patch</a></div><div class="ttdeci">static int version_patch()</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00503">chaiscript_engine.hpp:503</a></div></div>
<div class="ttc" id="structchaiscript_1_1exception_1_1load__module__error_html_a3f599d1ad77677d5f522544f38564c01"><div class="ttname"><a href="structchaiscript_1_1exception_1_1load__module__error.html#a3f599d1ad77677d5f522544f38564c01">chaiscript::exception::load_module_error::load_module_error</a></div><div class="ttdeci">load_module_error(const std::string &amp;t_reason) CHAISCRIPT_NOEXCEPT</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00059">chaiscript_engine.hpp:59</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1threading_1_1shared__lock_html"><div class="ttname"><a href="classchaiscript_1_1detail_1_1threading_1_1shared__lock.html">chaiscript::detail::threading::shared_lock</a></div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__threading_8hpp_source.html#l00047">chaiscript_threading.hpp:47</a></div></div>
<div class="ttc" id="structchaiscript_1_1eval_1_1detail_1_1Return__Value_html_a811580f17f172501dec34f3313c94a79"><div class="ttname"><a href="structchaiscript_1_1eval_1_1detail_1_1Return__Value.html#a811580f17f172501dec34f3313c94a79">chaiscript::eval::detail::Return_Value::retval</a></div><div class="ttdeci">Boxed_Value retval</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__common_8hpp_source.html#l00492">chaiscript_common.hpp:492</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a006f148e10e060a8d668abde2eb34790"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a006f148e10e060a8d668abde2eb34790">chaiscript::detail::Dispatch_Engine::get_locals</a></div><div class="ttdeci">std::map&lt; std::string, Boxed_Value &gt; get_locals() const </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00681">dispatchkit.hpp:681</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_ac820ca4b510c4c7151c58d8858779849"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ac820ca4b510c4c7151c58d8858779849">chaiscript::detail::Dispatch_Engine::is_type</a></div><div class="ttdeci">bool is_type(const Boxed_Value &amp;r, const std::string &amp;user_typename) const </div><div class="ttdoc">return true if the Boxed_Value matches the registered type by name </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00885">dispatchkit.hpp:885</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a815bc8fcc54f176722f9b3521a283758"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a815bc8fcc54f176722f9b3521a283758">chaiscript::detail::Dispatch_Engine::set_state</a></div><div class="ttdeci">void set_state(const State &amp;t_state)</div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00917">dispatchkit.hpp:917</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a97b03a52378c9678ff6f5a0e10dd159a"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a97b03a52378c9678ff6f5a0e10dd159a">chaiscript::detail::Dispatch_Engine::conversions</a></div><div class="ttdeci">const Type_Conversions &amp; conversions() const </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00778">dispatchkit.hpp:778</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a2d2ae96b6b32a0ae3d7dc157bfdd8021"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a2d2ae96b6b32a0ae3d7dc157bfdd8021">chaiscript::detail::Dispatch_Engine::function_exists</a></div><div class="ttdeci">bool function_exists(const std::string &amp;name) const </div><div class="ttdoc">Return true if a function exists. </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00659">dispatchkit.hpp:659</a></div></div>
<div class="ttc" id="structchaiscript_1_1detail_1_1Loadable__Module_html"><div class="ttname"><a href="structchaiscript_1_1detail_1_1Loadable__Module.html">chaiscript::detail::Loadable_Module</a></div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00241">chaiscript_engine.hpp:241</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_structchaiscript_1_1ChaiScript_1_1State"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#structchaiscript_1_1ChaiScript_1_1State">chaiscript::ChaiScript::State</a></div><div class="ttdoc">Represents the current state of the ChaiScript system. State and be saved and restored. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00587">chaiscript_engine.hpp:587</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_aded07b0df78b0ebf92f240372d4304a7"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#aded07b0df78b0ebf92f240372d4304a7">chaiscript::ChaiScript::version</a></div><div class="ttdeci">static std::string version()</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00508">chaiscript_engine.hpp:508</a></div></div>
<div class="ttc" id="namespacechaiscript_html_a1ce67012a96cff5cb1bd5185d392a6d6"><div class="ttname"><a href="namespacechaiscript.html#a1ce67012a96cff5cb1bd5185d392a6d6">chaiscript::version_minor</a></div><div class="ttdeci">static const int version_minor</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__defines_8hpp_source.html#l00048">chaiscript_defines.hpp:48</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1threading_1_1lock__guard_html"><div class="ttname"><a href="classchaiscript_1_1detail_1_1threading_1_1lock__guard.html">chaiscript::detail::threading::lock_guard</a></div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__threading_8hpp_source.html#l00055">chaiscript_threading.hpp:55</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a66de1924a511b8466da3235d11657aea"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a66de1924a511b8466da3235d11657aea">chaiscript::detail::Dispatch_Engine::type_name</a></div><div class="ttdeci">std::string type_name(const Boxed_Value &amp;obj) const </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00904">dispatchkit.hpp:904</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_afa666ca208185128e8f0a189b742eedc"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#afa666ca208185128e8f0a189b742eedc">chaiscript::ChaiScript::get_type_name</a></div><div class="ttdeci">std::string get_type_name() const </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00521">chaiscript_engine.hpp:521</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_af7f0673dfd3b68b4308d5258d19ad19f"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#af7f0673dfd3b68b4308d5258d19ad19f">chaiscript::ChaiScript::add</a></div><div class="ttdeci">ChaiScript &amp; add(const ModulePtr &amp;t_p)</div><div class="ttdoc">Adds all elements of a module to ChaiScript runtime. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00699">chaiscript_engine.hpp:699</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a971c88ba6cd454a73874e2bb4ab9d17d"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a971c88ba6cd454a73874e2bb4ab9d17d">chaiscript::ChaiScript::add_global_const</a></div><div class="ttdeci">ChaiScript &amp; add_global_const(const Boxed_Value &amp;t_bv, const std::string &amp;t_name)</div><div class="ttdoc">Adds a constant object that is available in all contexts and to all threads. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00565">chaiscript_engine.hpp:565</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a00a015ef8d5a4178b3ebf0398d7265b8"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a00a015ef8d5a4178b3ebf0398d7265b8">chaiscript::detail::Dispatch_Engine::add_global_const</a></div><div class="ttdeci">void add_global_const(const Boxed_Value &amp;obj, const std::string &amp;name)</div><div class="ttdoc">Adds a new global shared object, between all the threads. </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00466">dispatchkit.hpp:466</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a9fc2eaf37274d09d1ee90ffd411e665c"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a9fc2eaf37274d09d1ee90ffd411e665c">chaiscript::ChaiScript::use</a></div><div class="ttdeci">void use(const std::string &amp;t_filename)</div><div class="ttdoc">Loads and parses a file. If the file is already, it is not reloaded The use paths specified at ChaiSc...</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00532">chaiscript_engine.hpp:532</a></div></div>
<div class="ttc" id="chaiscript__parser_8hpp_html"><div class="ttname"><a href="chaiscript__parser_8hpp.html">chaiscript_parser.hpp</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a4a0a13edfb20fa69d04fc57727ff9827"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a4a0a13edfb20fa69d04fc57727ff9827">chaiscript::ChaiScript::eval_file</a></div><div class="ttdeci">T eval_file(const std::string &amp;t_filename, const Exception_Handler &amp;t_handler=Exception_Handler())</div><div class="ttdoc">Loads the file specified by filename, evaluates it, and returns the type safe result. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00893">chaiscript_engine.hpp:893</a></div></div>
<div class="ttc" id="classchaiscript_1_1parser_1_1ChaiScript__Parser_html_a47abf1afcd176d69eeb3d80f4ba2b454"><div class="ttname"><a href="classchaiscript_1_1parser_1_1ChaiScript__Parser.html#a47abf1afcd176d69eeb3d80f4ba2b454">chaiscript::parser::ChaiScript_Parser::parse</a></div><div class="ttdeci">bool parse(const std::string &amp;t_input, std::string t_fname)</div><div class="ttdoc">Parses the given input string, tagging parsed ast_nodes with the given m_filename. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__parser_8hpp_source.html#l02136">chaiscript_parser.hpp:2136</a></div></div>
<div class="ttc" id="structchaiscript_1_1detail_1_1Cast__Helper_html_ad6f4787fa988263191323148dcb775a7"><div class="ttname"><a href="structchaiscript_1_1detail_1_1Cast__Helper.html#ad6f4787fa988263191323148dcb775a7">chaiscript::detail::Cast_Helper::Result_Type</a></div><div class="ttdeci">Cast_Helper_Inner&lt; T &gt;::Result_Type Result_Type</div><div class="ttdef"><b>Definition:</b> <a href="boxed__cast__helper_8hpp_source.html#l00247">boxed_cast_helper.hpp:247</a></div></div>
<div class="ttc" id="chaiscript__common_8hpp_html"><div class="ttname"><a href="chaiscript__common_8hpp.html">chaiscript_common.hpp</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_ab9ce7fda07b1684bc5b9a355a9160fa8"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#ab9ce7fda07b1684bc5b9a355a9160fa8">chaiscript::ChaiScript::eval</a></div><div class="ttdeci">Boxed_Value eval(const std::string &amp;t_input, const Exception_Handler &amp;t_handler=Exception_Handler(), const std::string &amp;t_filename=&quot;__EVAL__&quot;)</div><div class="ttdoc">Evaluates a string. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00856">chaiscript_engine.hpp:856</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_ace859a80d9b983674cdbe97445a20107"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ace859a80d9b983674cdbe97445a20107">chaiscript::detail::Dispatch_Engine::add_reserved_word</a></div><div class="ttdeci">void add_reserved_word(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00771">dispatchkit.hpp:771</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_af50124995a5e5a2b9ada7773bb67727c"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#af50124995a5e5a2b9ada7773bb67727c">chaiscript::detail::Dispatch_Engine::boxed_cast</a></div><div class="ttdeci">detail::Cast_Helper&lt; Type &gt;::Result_Type boxed_cast(const Boxed_Value &amp;bv) const </div><div class="ttdoc">casts an object while applying any Dynamic_Conversion available </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00415">dispatchkit.hpp:415</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html">chaiscript::ChaiScript</a></div><div class="ttdoc">The main object that the ChaiScript user will use. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00258">chaiscript_engine.hpp:258</a></div></div>
<div class="ttc" id="namespacechaiscript_1_1bootstrap_html_af3bfc47450340ae025189d533189b94f"><div class="ttname"><a href="namespacechaiscript_1_1bootstrap.html#af3bfc47450340ae025189d533189b94f">chaiscript::bootstrap::to_string</a></div><div class="ttdeci">std::string to_string(Input i)</div><div class="ttdoc">to_string function for internal use. Uses ostream operator&lt;&lt; </div><div class="ttdef"><b>Definition:</b> <a href="bootstrap_8hpp_source.html#l00114">bootstrap.hpp:114</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a696bfed2a9d5613e2f0be513e32822c1"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a696bfed2a9d5613e2f0be513e32822c1">chaiscript::detail::Dispatch_Engine::get_type</a></div><div class="ttdeci">Type_Info get_type(const std::string &amp;name) const </div><div class="ttdoc">Returns the type info for a named type. </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00583">dispatchkit.hpp:583</a></div></div>
<div class="ttc" id="chaiscript__defines_8hpp_html_a3e3155a6f827f097f724c863999708a8"><div class="ttname"><a href="chaiscript__defines_8hpp.html#a3e3155a6f827f097f724c863999708a8">CHAISCRIPT_NOEXCEPT</a></div><div class="ttdeci">#define CHAISCRIPT_NOEXCEPT</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__defines_8hpp_source.html#l00042">chaiscript_defines.hpp:42</a></div></div>
<div class="ttc" id="classchaiscript_1_1dispatch_1_1Proxy__Function__Base_html"><div class="ttname"><a href="classchaiscript_1_1dispatch_1_1Proxy__Function__Base.html">chaiscript::dispatch::Proxy_Function_Base</a></div><div class="ttdef"><b>Definition:</b> <a href="proxy__functions_8hpp_source.html#l00143">proxy_functions.hpp:143</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a8e9351d918288cf1f71aaf71cc7ae1f9"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a8e9351d918288cf1f71aaf71cc7ae1f9">chaiscript::ChaiScript::add</a></div><div class="ttdeci">ChaiScript &amp; add(const T &amp;t_t, const std::string &amp;t_name)</div><div class="ttdoc">Adds a type, function or object to ChaiScript. Objects are added to the local thread state...</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00675">chaiscript_engine.hpp:675</a></div></div>
<div class="ttc" id="classchaiscript_1_1Boxed__Value_html"><div class="ttname"><a href="classchaiscript_1_1Boxed__Value.html">chaiscript::Boxed_Value</a></div><div class="ttdoc">A wrapper for holding any valid C++ type. All types in ChaiScript are Boxed_Value objects...</div><div class="ttdef"><b>Definition:</b> <a href="boxed__value_8hpp_source.html#l00025">boxed_value.hpp:25</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a50274f3dfa858eb79746abe7345c7d84"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a50274f3dfa858eb79746abe7345c7d84">chaiscript::ChaiScript::eval_file</a></div><div class="ttdeci">Boxed_Value eval_file(const std::string &amp;t_filename, const Exception_Handler &amp;t_handler=Exception_Handler())</div><div class="ttdoc">Loads the file specified by filename, evaluates it, and returns the result. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00873">chaiscript_engine.hpp:873</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a8d8ec1842f73ba0ad3dfc1abca123d15"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a8d8ec1842f73ba0ad3dfc1abca123d15">chaiscript::ChaiScript::State::active_loaded_modules</a></div><div class="ttdeci">std::set&lt; std::string &gt; active_loaded_modules</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00591">chaiscript_engine.hpp:591</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_ab91bd6f62cbbc302c3bf69d1cb449b15"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#ab91bd6f62cbbc302c3bf69d1cb449b15">chaiscript::ChaiScript::version_major</a></div><div class="ttdeci">static int version_major()</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00493">chaiscript_engine.hpp:493</a></div></div>
<div class="ttc" id="namespacechaiscript_html_ab925da5ee9dd05a82a7d94b559d4d2af"><div class="ttname"><a href="namespacechaiscript.html#ab925da5ee9dd05a82a7d94b559d4d2af">chaiscript::ModulePtr</a></div><div class="ttdeci">std::shared_ptr&lt; Module &gt; ModulePtr</div><div class="ttdoc">Convenience typedef for Module objects to be added to the ChaiScript runtime. </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00256">dispatchkit.hpp:256</a></div></div>
<div class="ttc" id="namespacechaiscript_html_a13ee197595d9ea8fec87d6188200bd81"><div class="ttname"><a href="namespacechaiscript.html#a13ee197595d9ea8fec87d6188200bd81">chaiscript::type_conversion</a></div><div class="ttdeci">Type_Conversion type_conversion(const Type_Info &amp;t_from, const Type_Info &amp;t_to, const Callable &amp;t_func)</div><div class="ttdef"><b>Definition:</b> <a href="type__conversions_8hpp_source.html#l00419">type_conversions.hpp:419</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a1bfb0e149f6d57f6ae4e72e9269dba51"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a1bfb0e149f6d57f6ae4e72e9269dba51">chaiscript::ChaiScript::version_minor</a></div><div class="ttdeci">static int version_minor()</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00498">chaiscript_engine.hpp:498</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_ad8216e18ab57675590509395478cb434"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#ad8216e18ab57675590509395478cb434">chaiscript::detail::Dispatch_Engine::dump_object</a></div><div class="ttdeci">void dump_object(const Boxed_Value &amp;o) const </div><div class="ttdoc">Dump object info to stdout. </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00804">dispatchkit.hpp:804</a></div></div>
<div class="ttc" id="structchaiscript_1_1detail_1_1Loadable__Module_html_a165445379a2f5bc04305d75a3afbf3cd"><div class="ttname"><a href="structchaiscript_1_1detail_1_1Loadable__Module.html#a165445379a2f5bc04305d75a3afbf3cd">chaiscript::detail::Loadable_Module::m_moduleptr</a></div><div class="ttdeci">ModulePtr m_moduleptr</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00248">chaiscript_engine.hpp:248</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a28a4066ac27499438738b83b6bd2e098"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a28a4066ac27499438738b83b6bd2e098">chaiscript::detail::Dispatch_Engine::get_function_objects</a></div><div class="ttdeci">std::map&lt; std::string, Boxed_Value &gt; get_function_objects() const </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00734">dispatchkit.hpp:734</a></div></div>
<div class="ttc" id="namespacechaiscript_html_ab5e18d724077cc9547333fd4bccf3ae3"><div class="ttname"><a href="namespacechaiscript.html#ab5e18d724077cc9547333fd4bccf3ae3">chaiscript::AST_NodePtr</a></div><div class="ttdeci">std::shared_ptr&lt; AST_Node &gt; AST_NodePtr</div><div class="ttdoc">Typedef for pointers to AST_Node objects. Used in building of the AST_Node tree. </div><div class="ttdef"><b>Definition:</b> <a href="proxy__functions_8hpp_source.html#l00040">proxy_functions.hpp:40</a></div></div>
<div class="ttc" id="structchaiscript_1_1exception_1_1load__module__error_html_ae904432d36ed9d257a59f14a2cdb0478"><div class="ttname"><a href="structchaiscript_1_1exception_1_1load__module__error.html#ae904432d36ed9d257a59f14a2cdb0478">chaiscript::exception::load_module_error::~load_module_error</a></div><div class="ttdeci">virtual ~load_module_error() CHAISCRIPT_NOEXCEPT</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00065">chaiscript_engine.hpp:65</a></div></div>
<div class="ttc" id="classchaiscript_1_1parser_1_1ChaiScript__Parser_html"><div class="ttname"><a href="classchaiscript_1_1parser_1_1ChaiScript__Parser.html">chaiscript::parser::ChaiScript_Parser</a></div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__parser_8hpp_source.html#l00049">chaiscript_parser.hpp:49</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_af3e1bd34bb3a2389d7d980a7face268f"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#af3e1bd34bb3a2389d7d980a7face268f">chaiscript::detail::Dispatch_Engine::call_exists</a></div><div class="ttdeci">Boxed_Value call_exists(const std::vector&lt; Boxed_Value &gt; &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00845">dispatchkit.hpp:845</a></div></div>
<div class="ttc" id="namespacechaiscript_html_a762c1923df6b87198036c01cf824cb53"><div class="ttname"><a href="namespacechaiscript.html#a762c1923df6b87198036c01cf824cb53">chaiscript::fun</a></div><div class="ttdeci">Proxy_Function fun(T t)</div><div class="ttdoc">Creates a new Proxy_Function object from a free function, member function or data member...</div><div class="ttdef"><b>Definition:</b> <a href="register__function_8hpp_source.html#l00101">register_function.hpp:101</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_af5d3435e41f173b947badf7b3caeae7e"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#af5d3435e41f173b947badf7b3caeae7e">chaiscript::ChaiScript::add_global</a></div><div class="ttdeci">ChaiScript &amp; add_global(const Boxed_Value &amp;t_bv, const std::string &amp;t_name)</div><div class="ttdoc">Adds a mutable object that is available in all contexts and to all threads. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00576">chaiscript_engine.hpp:576</a></div></div>
<div class="ttc" id="namespacechaiscript_html_ab6d8c15c9b7aa5fc1c5692d7c218d9cb"><div class="ttname"><a href="namespacechaiscript.html#ab6d8c15c9b7aa5fc1c5692d7c218d9cb">chaiscript::version_patch</a></div><div class="ttdeci">static const int version_patch</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__defines_8hpp_source.html#l00049">chaiscript_defines.hpp:49</a></div></div>
<div class="ttc" id="namespacechaiscript_html_a587381d0934835fd73ba5c0b0de1f38d"><div class="ttname"><a href="namespacechaiscript.html#a587381d0934835fd73ba5c0b0de1f38d">chaiscript::version_major</a></div><div class="ttdeci">static const int version_major</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__defines_8hpp_source.html#l00047">chaiscript_defines.hpp:47</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_ac30afb1e3708bb2925bd41b5d836a601"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#ac30afb1e3708bb2925bd41b5d836a601">chaiscript::ChaiScript::add</a></div><div class="ttdeci">ChaiScript &amp; add(const Type_Conversion &amp;d)</div><div class="ttdoc">Add a new conversion for upcasting to a base class. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00690">chaiscript_engine.hpp:690</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_af586418fb110b18537831f475a14159f"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#af586418fb110b18537831f475a14159f">chaiscript::detail::Dispatch_Engine::dump_system</a></div><div class="ttdeci">void dump_system() const </div><div class="ttdoc">Dump all system info to stdout. </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00858">dispatchkit.hpp:858</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_aa19f395650cefe2e0245b931fcaeea86"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#aa19f395650cefe2e0245b931fcaeea86">chaiscript::ChaiScript::get_state</a></div><div class="ttdeci">State get_state() const </div><div class="ttdoc">Returns a state object that represents the current state of the global system. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00607">chaiscript_engine.hpp:607</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a04711d182e337b38cbbec3cfd4586b87"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a04711d182e337b38cbbec3cfd4586b87">chaiscript::detail::Dispatch_Engine::set_locals</a></div><div class="ttdeci">void set_locals(const std::map&lt; std::string, Boxed_Value &gt; &amp;t_locals)</div><div class="ttdoc">Sets all of the locals for the current thread state. </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00693">dispatchkit.hpp:693</a></div></div>
<div class="ttc" id="classchaiscript_1_1parser_1_1ChaiScript__Parser_html_aa115a4d6a5e144f36b5a608160063c44"><div class="ttname"><a href="classchaiscript_1_1parser_1_1ChaiScript__Parser.html#aa115a4d6a5e144f36b5a608160063c44">chaiscript::parser::ChaiScript_Parser::ast</a></div><div class="ttdeci">AST_NodePtr ast() const </div><div class="ttdoc">Returns the front-most AST node. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__parser_8hpp_source.html#l00195">chaiscript_parser.hpp:195</a></div></div>
<div class="ttc" id="namespacechaiscript_html_a0c4629731b82bec640c9b485efca2e8a"><div class="ttname"><a href="namespacechaiscript.html#a0c4629731b82bec640c9b485efca2e8a">chaiscript::Proxy_Function</a></div><div class="ttdeci">std::shared_ptr&lt; dispatch::Proxy_Function_Base &gt; Proxy_Function</div><div class="ttdoc">Common typedef used for passing of any registered function in ChaiScript. </div><div class="ttdef"><b>Definition:</b> <a href="proxy__functions_8hpp_source.html#l00274">proxy_functions.hpp:274</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a75110954cf0855152f83f00b68486943"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a75110954cf0855152f83f00b68486943">chaiscript::detail::Dispatch_Engine::add_global</a></div><div class="ttdeci">void add_global(const Boxed_Value &amp;obj, const std::string &amp;name)</div><div class="ttdoc">Adds a new global (non-const) shared object, between all the threads. </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00486">dispatchkit.hpp:486</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a836827b3a944ace575a2b3a05bf701c3"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a836827b3a944ace575a2b3a05bf701c3">chaiscript::ChaiScript::State::used_files</a></div><div class="ttdeci">std::set&lt; std::string &gt; used_files</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00589">chaiscript_engine.hpp:589</a></div></div>
<div class="ttc" id="structchaiscript_1_1eval_1_1detail_1_1Return__Value_html"><div class="ttname"><a href="structchaiscript_1_1eval_1_1detail_1_1Return__Value.html">chaiscript::eval::detail::Return_Value</a></div><div class="ttdoc">Special type for returned values. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__common_8hpp_source.html#l00491">chaiscript_common.hpp:491</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a85fc7015fc228d36ad806326a90c04b7"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a85fc7015fc228d36ad806326a90c04b7">chaiscript::ChaiScript::load_module</a></div><div class="ttdeci">void load_module(const std::string &amp;t_module_name, const std::string &amp;t_filename)</div><div class="ttdoc">Load a binary module from a dynamic library. Works on platforms that support dynamic libraries...</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00775">chaiscript_engine.hpp:775</a></div></div>
<div class="ttc" id="structchaiscript_1_1detail_1_1Loadable__Module_html_af3fda051026d2b0441b1ffdc8b3536c9"><div class="ttname"><a href="structchaiscript_1_1detail_1_1Loadable__Module.html#af3fda051026d2b0441b1ffdc8b3536c9">chaiscript::detail::Loadable_Module::Loadable_Module</a></div><div class="ttdeci">Loadable_Module(const std::string &amp;, const std::string &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00243">chaiscript_engine.hpp:243</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a2fd882b989f4f087d06b0f1d444e5771"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a2fd882b989f4f087d06b0f1d444e5771">chaiscript::ChaiScript::State::engine_state</a></div><div class="ttdeci">chaiscript::detail::Dispatch_Engine::State engine_state</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00590">chaiscript_engine.hpp:590</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a70cc6e6f79c37d9cb7599634ea620dc2"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a70cc6e6f79c37d9cb7599634ea620dc2">chaiscript::detail::Dispatch_Engine::get_state</a></div><div class="ttdeci">State get_state() const </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00909">dispatchkit.hpp:909</a></div></div>
<div class="ttc" id="structchaiscript_1_1exception_1_1eval__error_html"><div class="ttname"><a href="structchaiscript_1_1exception_1_1eval__error.html">chaiscript::exception::eval_error</a></div><div class="ttdoc">Errors generated during parsing or evaluation. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__common_8hpp_source.html#l00080">chaiscript_common.hpp:80</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html_a1864c2628635d19c3ba725f0c43cc687"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html#a1864c2628635d19c3ba725f0c43cc687">chaiscript::detail::Dispatch_Engine::get_scripting_objects</a></div><div class="ttdeci">std::map&lt; std::string, Boxed_Value &gt; get_scripting_objects() const </div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00705">dispatchkit.hpp:705</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a2ca9c3a3187394ae03d3fbd50e2d1a4e"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a2ca9c3a3187394ae03d3fbd50e2d1a4e">chaiscript::ChaiScript::ChaiScript</a></div><div class="ttdeci">ChaiScript(const ModulePtr &amp;t_lib, std::vector&lt; std::string &gt; t_modulepaths=std::vector&lt; std::string &gt;(), std::vector&lt; std::string &gt; t_usepaths=std::vector&lt; std::string &gt;())</div><div class="ttdoc">Constructor for ChaiScript. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00413">chaiscript_engine.hpp:413</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1Dispatch__Engine_html"><div class="ttname"><a href="classchaiscript_1_1detail_1_1Dispatch__Engine.html">chaiscript::detail::Dispatch_Engine</a></div><div class="ttdef"><b>Definition:</b> <a href="dispatchkit_8hpp_source.html#l00383">dispatchkit.hpp:383</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1threading_1_1unique__lock_html"><div class="ttname"><a href="classchaiscript_1_1detail_1_1threading_1_1unique__lock.html">chaiscript::detail::threading::unique_lock</a></div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__threading_8hpp_source.html#l00040">chaiscript_threading.hpp:40</a></div></div>
<div class="ttc" id="namespacechaiscript_html_a7062a185efde16ab706d8327b9275816"><div class="ttname"><a href="namespacechaiscript.html#a7062a185efde16ab706d8327b9275816">chaiscript::Type_Conversion</a></div><div class="ttdeci">std::shared_ptr&lt; chaiscript::detail::Type_Conversion_Base &gt; Type_Conversion</div><div class="ttdef"><b>Definition:</b> <a href="type__conversions_8hpp_source.html#l00383">type_conversions.hpp:383</a></div></div>
<div class="ttc" id="classchaiscript_1_1dispatch_1_1Dynamic__Proxy__Function_html"><div class="ttname"><a href="classchaiscript_1_1dispatch_1_1Dynamic__Proxy__Function.html">chaiscript::dispatch::Dynamic_Proxy_Function</a></div><div class="ttdef"><b>Definition:</b> <a href="proxy__functions_8hpp_source.html#l00303">proxy_functions.hpp:303</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a7cbb8a08a3c27473e89435e3c2a9a60f"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a7cbb8a08a3c27473e89435e3c2a9a60f">chaiscript::ChaiScript::load_module</a></div><div class="ttdeci">std::string load_module(const std::string &amp;t_module_name)</div><div class="ttdoc">Load a binary module from a dynamic library. Works on platforms that support dynamic libraries...</div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00717">chaiscript_engine.hpp:717</a></div></div>
<div class="ttc" id="structchaiscript_1_1exception_1_1file__not__found__error_html"><div class="ttname"><a href="structchaiscript_1_1exception_1_1file__not__found__error.html">chaiscript::exception::file_not_found_error</a></div><div class="ttdoc">Errors generated when loading a file. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__common_8hpp_source.html#l00395">chaiscript_common.hpp:395</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a9298bfd530e1d79b7a39d87cfea49435"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a9298bfd530e1d79b7a39d87cfea49435">chaiscript::ChaiScript::get_locals</a></div><div class="ttdeci">std::map&lt; std::string, Boxed_Value &gt; get_locals() const </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00644">chaiscript_engine.hpp:644</a></div></div>
<div class="ttc" id="classchaiscript_1_1detail_1_1threading_1_1shared__mutex_html"><div class="ttname"><a href="classchaiscript_1_1detail_1_1threading_1_1shared__mutex.html">chaiscript::detail::threading::shared_mutex</a></div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__threading_8hpp_source.html#l00061">chaiscript_threading.hpp:61</a></div></div>
<div class="ttc" id="classchaiscript_1_1ChaiScript_html_a428d16b7c0cb57d0ba476d1a55663790"><div class="ttname"><a href="classchaiscript_1_1ChaiScript.html#a428d16b7c0cb57d0ba476d1a55663790">chaiscript::ChaiScript::operator()</a></div><div class="ttdeci">Boxed_Value operator()(const std::string &amp;t_script, const Exception_Handler &amp;t_handler=Exception_Handler())</div><div class="ttdoc">Evaluates a string. Equivalent to ChaiScript::eval. </div><div class="ttdef"><b>Definition:</b> <a href="chaiscript__engine_8hpp_source.html#l00800">chaiscript_engine.hpp:800</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 19 2015 09:16:00 for ChaiScript by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
